<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>test</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width,user-scalable=no">
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        ul,li{
            list-style: none;
        }
        a {
            text-decoration: none;
            color: #000;
        }
        img {
            display: block;
            border: 0;
        }
        .clearfix {
            zoom: 0;
        }
        .clearfix:after {
            content: "";
            display: block;
            clear: both;
            visibility: hidden;
            height: 0;
        }
        .camera{
            width:500px;
            height:500px;
            /*border:1px dashed red;*/
            margin:200px auto;
            perspective: 1000px;
            perspective-origin: 50% 50%;

        }
        .pace{
            width:133px;
            height:200px;
            background: url(images/121.jpg) no-repeat;
            background-size:100% 100%;
            /*border:1px solid red;*/
            margin:50px auto;
            position: relative;
            transform-style:preserve-3d;

            

        }
        .common{
            border-radius: 8px;
            box-shadow: 0 0 4px #aaa;
        }
        img{
            border-radius: 8px;
            box-shadow: 0 0 4px #000;
        }
        .pace .box{
            width:133px;
            height:200px;
            position: absolute;
            left:0;
            top:0;
            /*background:  rgba(152,56,198,.7);*/
            



        }
        .box1{
            /*background:  rgba(152,56,198,.7);*/
            /*transition: all 4s ease;*/
            /*animation: move 2s ease infinite;*/

        }
        .box2{
            /*background:  rgba(152,56,198,.7);*/
            
        }
        .box3{
            /*background: rgba(152,56,198,.7);*/
            
        }
        .box4{
            /*background:  rgba(152,56,198,.7);*/
            
        }
        .box5{
            /*background: rgba(152,56,198,.7);*/
            
        }
        .box6{
            /*background:  rgba(152,56,198,.7);*/
            
        }
        .zhuandong{
            animation:move 30s linear infinite;
        }
        @-webkit-keyframes move{
            0%{
                transform:rotateY(0);
            }
            /*50%{
                transform:translateX(0px) translateY(0px);
    
            }*/
            100%{
                transform: rotateY(360deg)

            }
        }
        </style>
</head>
<body>
    <div class="camera">
        <div class="pace common">
             <div class="box box1"><a href="html/index2.html"><img src="images/1.jpg" alt=""></a></div>
             <div class="box box2"><img src="images/2.jpg" alt=""></div>
             <div class="box box3"><img src="images/3.jpg" alt=""></div>
             <div class="box box4"><img src="images/4.jpg" alt=""></div>
             <div class="box box5"><img src="images/5.jpg" alt=""></div>
             <div class="box box6"><img src="images/6.jpg" alt=""></div>
             <div class="box box7"><img src="images/7.jpg" alt=""></div>
             <div class="box box8"><img src="images/8.jpg" alt=""></div>
             <div class="box box9"><img src="images/9.jpg" alt=""></div>
             <div class="box box10"><img src="images/10.jpg" alt=""></div>
        </div>
    </div>
     <script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.js"></script>
    <script>
        // function $(name){
        //     return document.getElementsByClassName(name);
        // }

        // var oBox = $('box');
        // for(var i=0;i<oBox.length;i++){
        //     var deg = i*60;
        //     // transition:"all 1s "+(imgL-i)*0.15+"s ease,.5s "+(1+imgL*0.15)+"s opacity",
        //     oBox[i].style.transition='all 1s ease '+i*.15+'s';
        //     oBox[i].style.transform='rotateY('+deg+'deg) translateZ(360px) ';
        // }
        // 
        var oBox = $('.box');
        var num =oBox.length;

        var averDeg = Math.floor(360/num);
        $.each(oBox,function(index,value){
            var deg = index*averDeg;

            $(this).css({
                transition:'all 1s ease '+index*.3+'s',
                transform:'rotateY('+deg+'deg) translateZ(360px) ',
                //禁止图片拖动
            }).attr('ondragstart','return false');

            // $(this).css({
            //     transform:'translateZ(170px)'
            // });
        });
        //添加监听事件,当整个排列完成后
        oBox.last().on('transitionend',function(event) {
            event.preventDefault();
            console.log(666);
            $('.pace').addClass('zhuandong');
        });
        $('.camera').hover(function(){
            $('.pace').removeClass('zhuandong');
        },function(){
            $('.pace').addClass('zhuandong');
        })
        //  $('.camera').hover(function(){
        //     $('.pace').css({
        //         webkitAnimationPlayState: "paused",
        //     });
        // },function(){
        //     $('.pace').css({
        //         webkitAnimationPlayState: "running",
        //     });
        // })
        // $.each
        var xTo = 0,yTo=0;
        $(document).mousedown(function(e){
                var oX = e.clientX;
                var oY = e.clientY;
                $(document).mousemove(function(e){
                    var x =e.clientX-oX;
                    var y =e.clientY-oY;
                    //注意方向
                    xTo += x*0.2;
                    yTo -=y*0.1;
                    $('.pace').css({
                        //z注意:以X轴旋转是上下移动,所以用y坐标的差值;同理y轴
                        transform:' rotateX('+yTo+'deg) rotateY('+xTo+'deg)'
                    });
                    // 更新初始值,每次移动后初始点都做了改变
                    oX=e.clientX;
                    oY=e.clientY;
                }).mouseup(function(){
                    $(this).off('mousemove');
                });
                return false;
        });
        
        
    </script>
</body>
</html>